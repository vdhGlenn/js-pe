<!doctype html>
<html>
<head>
<meta charset="utf-8"> 
  <title>JS-PE Van den Heuvel Glenn</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />  
</head>
<body>  
  <h1 style="text-align: center">PE Van den Heuvel Glenn</h1>
  <br />
  <div class="container-fluid">    
      <div class="card-header">
        <h1>Registreer</h1>
        <p>Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
      </div>    
      <div class="card-body">
        <form>
            <div class="row">
              <div class="col-md-8">
                <div class="row">
                  <div class="col-md-6">
                    <label for="voornaam" class="form-label">Voornaam</label>
                    <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam"/>
                </div>
                  <div class="col">
                    <label for="naam" class="form-label">Achternaam</label>
                    <input type="text" class="form-control" id="naam" placeholder="Uw naam"/>
                </div>
                </div>
                <br />
                <div class="row">
                  <div class="col-md-6">
                    <label for="gebruikersnaam" class="form-label">Gebruikersnaam</label>
                    <div class="input-group flex-nowrap">
                      <span class="input-group-text" id="addon-wrapping">@</span>
                      <input type="text" class="form-control" id="gebruikersnaam" placeholder="u911236"/>
                    </div>
                  </div>
                  <div class="col">
                    <label for="email" class="form-label">E-mailadres</label>
                    <input type="email" class="form-control" id="email" placeholder="mail@example.be"/>
                  </div>
                </div>
                <br />
                <div class="row">
                  <div class="col-md-6">
                    <label for="wachtwoord" class="form-label">Wachtwoord</label>
                    <input type="password" class="form-control" id="wachtwoord"/>
                    <div id="wachtwoordhulp" class="form-text">
                      Je wachtwoord moet minstens 8 tekens lang zijn
                    </div>
                  </div>
                  <div class="col">
                    <label for="wachtwoord2" class="form-label">Herhaal wachtwoord</label>
                    <input type="password" class="form-control" id="wachtwoord2"/>
                  </div>
                </div>
                <br />
                <div>
                  <label for="adres" class="form-label">Adres</label>
                  <input type="text" class="form-control" id="adres" placeholder="Uw adres en huisnummer"/>
                </div>
                <br>
                <div class="row">
                  <div class="col-md-6">
                    <label for="land" class="form-label">Land</label>
                    <select id="land" class="form-select">
                      <option selected value="">Kies een land</option>
                      <option value="Belgie">Belgie</option>
                      <option value="Nederland">Nederland</option>
                    </select>
                  </div>
                  <div class="col-md-4">
                    <label for="provincie" class="form-label">Provincie</label>
                    <select id="provincie" class="form-select">
                        <option selected value="">Kies een provincie</option>
                        <option value="Antwerpen">Antwerpen</option>
                        <option value="Parking1">Parking1</option>
                        <option value="Parking2">Parking2</option>
                        <option value="Parking3">Parking3</option>
                        <option value="Parking3">Buitenland</option>
                    </select>
                  </div>
                  <div class="col-md-2">
                    <label for="postcode" class="form-label">Postcode</label>
                    <input type="text" class="form-control" id="postcode" />
                  </div>
                </div>
                <hr />
                <div class="row">
                  <div class="col">
                    <h2>Hou me op de hoogte</h2><div class="form-check">
                        <input class="form-check-input" type="checkbox" id="nieuwsbrief"/>
                        <label class="form-check-label" for="nieuwsbrief">
                          Inschrijven voor onze nieuwsbrief
                        </label>
                      </div>
                      <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="algemenevoorwaarden"/>
                        <label class="form-check-label" for="algemenevoorwaarden">
                          Ik ga akkoord met de algemene voorwaarden.
                        </label>
                      </div><br>
                  </div>
                    <div class="col">
                    <h2>Betaling</h2>
                    <div class="form-check">
                        <input type="radio" class="form-check-input" id="BankingApp" name="betalingswijze" value="Banking app"/>
                        <label class="form-check-label" for="BankingApp">Banking app</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" class="form-check-input" id="Overschrijving" name="betalingswijze" value="Overschrijving"/>
                        <label class="form-check-label" for="Overschrijving">Overschrijving</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" class="form-check-input" id="Visa" name="betalingswijze" value="Visa"/>
                        <label class="form-check-label" for="Visa">Visa card</label>
                    </div>
                    <div class="form-check">
                        <input type="radio" class="form-check-input" id="Paypal" name="betalingswijze" value="Paypal"/>
                        <label class="form-check-label" for="Paypal">PayPal</label>
                    </div>                    
                  </div>
                </div>
              </div>
            <!-- Gegevenscontrole -->
            <div class="col">
              <div class="alert alert-danger d-none" id="errors" role="alert">
                <h4>Yikes, errors..</h4>
                <p>
                    <ul>
                    </ul>
                </p>
              </div>              
              <div class="alert alert-success d-none" id="success" role="alert">
                <h4>Goed gedaan!</h4>
                <p>
					Aww yeah, je werd geregistreerd.</p>
              </div>
                <div class="alert alert-info d-none" id="info" role="alert">
                <h4>Betalingswijze</h4>
                <p></p>
              </div>
            </div>
            </div>
            <hr />
            <div class="col-12">
                <div class="col-12">
                    <button type="button" id="btnCheck" class="btn btn-primary mb-2">
                        Wave your magic wand
                    </button>
                    <p></p>
                </div>
            </div>
          </form>
        </div>
      </div>
    <script>
		const checkForm = document.querySelector('#btnCheck')
        let errorsArray = []      
        function checkFormulier() {
			hideAlerts() // Clean Beginnen
            errorsArray = []
			//Lege velden check -> Gevonden in de les?!
            checkEmptyField(voornaam, 'Voornaam is verplicht')
            checkEmptyField(naam, 'Naam is verplicht')
			checkEmptyField(gebruikersnaam, 'Gebruikersnaam is verplicht')
			checkEmptyField(adres, 'Adres is verplicht')
			checkEmptyField(land, 'Land is verplicht')
			checkEmptyField(provincie, 'Provincie is verplicht')
			//E-mail check - Google voor de Syntax
			validateEmail('#email')
			//Wachtwoorden check - Eigen recept
			let wachtwoord = document.querySelector('#wachtwoord').value
			let wachtwoord2 = document.querySelector('#wachtwoord2').value
			let gebruiker = document.querySelector('#gebruikersnaam').value
			if(wachtwoord === ""){
			    errorsArray.push("Wachtwoord is niet ingevuld");
			   }
			if(wachtwoord2 === ""){
			    errorsArray.push("Herhaal Wachtwoord is niet ingevuld");
			   }
			if(wachtwoord.length <= 7){
			    errorsArray.push("Wachtwoord moet minstens 7 tekens bevatten");
			   }
			if(wachtwoord !== wachtwoord2){
			    errorsArray.push("Wachtwoorden komen niet overeen");
			   }
			//moet minstens 1 karakter bevatten, minder = 0 oftwel leeg 			
			if(gebruiker === ""){
				errorsArray.push("Gebruikersnaam moet minstens 1 karakter bevatten");
			}
			if(!/^[a-zA-Z0-9_][a-zA-Z0-9_.-]*$/.test(gebruiker)) {
				errorsArray.push("Gebruiker mag niet beginnen met een punt of koppelteken");
			}
			let postcode = document.querySelector('#postcode').value
			checkPc(postcode)
			let voorwaarden = document.querySelector('#algemenevoorwaarden').checked
			if(!voorwaarden){
				errorsArray.push("U moet de algemene voorwaarden accepteren");
			}
			//fouten weergeven - geleerd in de les?
            if (errorsArray.length > 0) {
                let errorList = document.querySelector('#errors ul')
                errorList.innerHTML = ""
                errorsArray.forEach((error) => {
                    errorList.innerHTML += `<li>${error}</li>`
                })                
                document.querySelector('#errors').classList.remove('d-none')
            } else {
                document.querySelector('#success').classList.remove('d-none')
                document.querySelector('#info').classList.remove('d-none')
				let gekozenBetaling = document.querySelector('input[name="betalingswijze"]:checked');
        		validatePayment(gekozenBetaling);				
            }
        }
        function checkEmptyField(field, message) {
            if (field.value == "") {
                errorsArray.push(message)
            }
        }
	function validateEmail() {
    const email = document.querySelector("#email").value;
    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    if (!regex.test(email)) {
         errorsArray.push("Ongeldig e-mail adres");
            }
}
        function hideAlerts() {
            document.querySelector('#success').classList.add('d-none')
            document.querySelector('#errors').classList.add('d-none')
            document.querySelector('#info').classList.add('d-none')
        }
		function validatePayment(betaalwijzeElement) {
    let betaalwijze = betaalwijzeElement ? betaalwijzeElement.value : 'Geen betalingswijze geselecteerd'
    let infoList = document.querySelector('#info p')
    infoList.textContent = `Je betalingswijze is ${betaalwijze}`
}
function checkPc(veld) {
	if(veld == ""){
		errorsArray.push("Het veld postcode is vereist")
	}
	if (/^\d+$/.test(veld)) {
    if(veld < 1000 || veld > 9999){
		errorsArray.push("De waarde van postcode moet tussen 1000 en 9999 liggen");
	}	
	}else{
			errorsArray.push("Postcode kan enkel cijfers bevatten");
		}		
}
        checkForm.addEventListener('click', checkFormulier)				 
    </script> 
<script
src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
crossorigin="anonymous"
></script>
  </body>
</html>